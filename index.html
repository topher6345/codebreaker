<html>
  <head>
    <meta charset="utf-8" />
    <style>
      body {
        font-family: Sans-serif;
        font-size: 1em;
        background-color: white;
        color: black;
      }

      .root {
        max-width: 800px;
        margin: 0 auto;
      }
      .root > p {
        animation: fadeIn 3s linear none;
      }

      .pick:nth-of-type(1) > td:last-child {
        opacity: 0;
        animation: 3s linear 1s forwards fadeIn;
      }

      .pick:nth-of-type(2) > td:last-child {
        opacity: 0;
        animation: 3s linear 2s forwards fadeIn;
      }

      .pick:nth-of-type(3) > td:last-child {
        opacity: 0;
        animation: 3s linear 3s forwards fadeIn;
      }

      .pick:nth-of-type(4) > td:last-child {
        opacity: 0;
        animation: 3s linear 4s forwards fadeIn;
      }

      .pick:nth-of-type(5) > td:last-child {
        opacity: 0;
        animation: 3s linear 5s forwards fadeIn;
      }

      @keyframes fadeIn {
        0% {
          opacity: 0;
        }
        100% {
          opacity: 1;
        }
      }

      .new-game-confirm-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: aqua;
        z-index: 9;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .new-game-confirm-modal p {
        font-size: 0.5em;
      }

      table {
        border: 1px inset;
        font-size: 1em;
      }

      .root > button {
        border: 1px black inset;
        padding: 0.5em;
      }

      select,
      button {
        font-size: 1em;
      }

      .root > table {
        padding: 0.5em;
      }
    </style>
    <title>Codebreaker</title>
    <script src="build/main.js"></script>
  </head>
  <body>
    <main></main>
    <script>
      window.addEventListener("beforeunload", function (e) {
        e.preventDefault();
        return "";
      });

      const historyKey = "codbreaker:history"

      var app = Elm.Main.init({
        node: document.querySelector("main"),
        flags: JSON.parse(localStorage.getItem(historyKey) || "[]"),
      });

      app.ports.writeHistory.subscribe(function (message) {
        localStorage.setItem(historyKey, JSON.stringify(message));
      });
    </script>
  </body>
</html>
